# ===============================
# DATABASE (POSTGRES - PROD)
# ===============================
spring.datasource.url=jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.jdbc.time_zone=UTC

# ===============================
# Flyway
# ===============================
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true

# ===============================
# CORS
# ===============================
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://martelinhodigital.com.br,https://www.martelinhodigital.com.br}

# ===============================
# AWS S3 Storage
# ===============================
# Deixe vazio para usar armazenamento local
aws.s3.access-key=${AWS_S3_ACCESS_KEY:}
aws.s3.secret-key=${AWS_S3_SECRET_KEY:}
aws.s3.bucket=${AWS_S3_BUCKET:}
aws.s3.region=${AWS_S3_REGION:us-east-1}
aws.s3.endpoint=${AWS_S3_ENDPOINT:}
aws.s3.public-url=${AWS_S3_PUBLIC_URL:}


# Email Configuration (SMTP)
# Default: Brevo (recommended for production)
# For Gmail: use smtp.gmail.com with App Password
spring.mail.host=${MAIL_HOST:smtp-relay.brevo.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# App Configuration
app.base-url=${APP_BASE_URL:https://app.martelinhodigital.com.br}

# ===============================
# FLYWAY PLACEHOLDERS (PROD SECURITY)
# ===============================
spring.flyway.placeholders.apply_rls=true
spring.flyway.placeholders.backend_role=api_backend
